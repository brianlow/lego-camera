<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="index.css">
  <script src="index.js"></script>
</head>

<body>

  <div id="capture-mode"></div>

  <input id="myFileInput" type="file" accept="image/*">

  <div>
    <!-- hidden video -->
    <video id="video" autoplay playsinline class="d-none">
      Video stream not available.
    </video>

    <!-- video preview and camera controls -->
    <div class="preview-container">
      <canvas id="preview-canvas">
      </canvas>

      <div class="preview-controls d-flex flex-col">
        <div class="d-flex flex-column">
          <div class="mb-1">
            <input id="show-detection-checkbox" type="checkbox" class="btn-check" autocomplete="off">
            <label for="show-detection-checkbox" class="btn btn-outline-secondary"><i
                class="bi bi-bounding-box-circles"></i>
            </label>
          </div>
          <div>
            <button id="zoom-button" type="button" class="btn btn-secondary">x2</button>
          </div>
        </div>

        <button id="take-photo" class="btn btn-primary ms-1" style="width: 80px; height: 80px">
          <i class="bi fs-1 bi-camera-fill"></i>
        </button>
      </div>
    </div>

    <!-- don't remember what this is for -->
    <canvas id="photo-canvas" style="display: none"></canvas>

    <div id="predictions-container" class="p-3">

      <template id="prediction-template">
        <div class="d-flex flex-row w-100 mb-3">
          <div class="prediction-color-border p-2" style="border-left: 5px solid gray; background: whitesmoke;">
            <img class="prediction-source" src="https://placehold.jp/50x50.png" style="max-width:50px;" />
          </div>
          <div class="prediction-parts">
          </div>
        </div>
      </template>

      <template id="prediction-part-template">
        <div class="ms-3 mb-2 d-flex flex-row">
          <div class="d-flex align-items-center h-100">
            <img class="prediction-part-image" src="images/3001.png" style="width: 75px" />
          </div>
          <div class="ms-3 d-flex align-items-center h-100">
            <div>
              <div class="fw-bold">
                <span class="prediction-part-name">2x3 Brick</span>
                <span class="prediction-part-id ms-1 badge text-bg-light" style="border:1px solid lightgray">3010</span>
                <span class="prediction-part-confidence ms-1 badge text-bg-light"
                  style="border:1px solid lightgray">90%</span>
              </div>
              <div class="d-flex flex-row align-items-center">
                <div class="prediction-color-swatch" style="width:20px; height:20px; background-color:red">&nbsp;</div>
                <span class="prediction-color-name ms-1">
                  Red
                </span>
                <span class="prediction-color-id ms-1 badge text-bg-light" style="border:1px solid lightgray">23</span>
                <span class="prediction-color-confidence ms-1 badge text-bg-light"
                  style="border:1px solid lightgray">90%</span>
              </div>
            </div>
          </div>
        </div>

      </template>

      <img id="photo" style="display: none; width: 224px; height: 224px;" />
    </div>


</body>

</html>
